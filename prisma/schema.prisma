// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}


// enum
enum Status {
  Unvarified
  Registered
  Authenticated
}

enum Roles {
  SuperAdmin
  Broker
  Driver
}

//Model Creation

model Authentication {
  id                                      Int                                     @id @default(autoincrement())
  email                                   String                                  @unique
  phone                                   Int?                                    @unique
  hashCode                                String                                  @default("")
  accountStatus                           Status                                  @default(Unvarified)
  isEmailVerified                         Boolean                                 @default(false)
  user                                    Users                                   @relation(fields: [userId], references: [id])  
  userId                                  Int                                     @unique  
  password                                String
  createdAt                               DateTime                                @default(now())
  updatedAt                               DateTime                                @updatedAt
  deletedAt                               DateTime                                
  createdBy                               Int
  deletedBy                               Int
  UpdatedBy                               Int
}

model Profile {
  id                                      Int                                     @id @default(autoincrement())
  bio                                     String                                
  user                                    Users                                   @relation(fields: [userId], references: [id])
  userId                                  Int                                     @unique
  createdAt                               DateTime                                @default(now())
  updatedAt                               DateTime                                @updatedAt
  deletedAt                               DateTime                                
  createdBy                               Int
  deletedBy                               Int
  UpdatedBy                               Int
}

model Users {
  id                                      Int                                     @id @default(autoincrement())
  email                                   String                                  @unique
  name                                    String
  createdAt                               DateTime?                                @default(now())
  updatedAt                               DateTime?                                @updatedAt
  deletedAt                               DateTime?                               
  createdBy                               Int
  deletedBy                               Int?
  UpdatedBy                               Int?
  profile                                 Profile?
  Authentication                          Authentication?
}

model Role {
  id                                      Int                                      @id @default(autoincrement())
  roleName                                Roles  
  createdAt                               DateTime                                 @default(now())
  updatedAt                               DateTime?                                 @updatedAt
  deletedAt                               DateTime?                                
  createdBy                               Int
  deletedBy                               Int?
  UpdatedBy                               Int?
}